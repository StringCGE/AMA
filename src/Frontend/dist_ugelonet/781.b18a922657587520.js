"use strict";(self.webpackChunkFundacion=self.webpackChunkFundacion||[]).push([[781],{3781:(M,u,e)=>{e.r(u),e.d(u,{ConfiguracionModule:()=>n});var m=e(5959),i=e(6223),t=e(1450),p=e(6814),g=e(9081),l=e(9212);let C=(()=>{class o{static#t=this.\u0275fac=function(h){return new(h||o)};static#o=this.\u0275mod=l.oAB({type:o});static#e=this.\u0275inj=l.cJS({providers:[g.h],imports:[p.ez,i.u5,i.UX,m.Bz,t.SmtpRouteModule]})}return o})();const f=[{path:"users",loadChildren:()=>e.e(607).then(e.bind(e,5607)).then(o=>o.UserModule)},{path:"smtp",loadChildren:()=>Promise.resolve().then(e.bind(e,1450)).then(o=>o.SmtpRouteModule)},{path:"person",loadChildren:()=>e.e(878).then(e.bind(e,6878)).then(o=>o.PersonModule)}];let c=(()=>{class o{static#t=this.\u0275fac=function(h){return new(h||o)};static#o=this.\u0275mod=l.oAB({type:o});static#e=this.\u0275inj=l.cJS({imports:[m.Bz.forChild(f)]})}return o})();var d=e(4480),v=e(6263),s=e(2580);let n=(()=>{class o{static#t=this.\u0275fac=function(h){return new(h||o)};static#o=this.\u0275mod=l.oAB({type:o});static#e=this.\u0275inj=l.cJS({imports:[C,p.ez,d.T,v.W,s.m,c,c]})}return o})()},1450:(M,u,e)=>{e.r(u),e.d(u,{SmtpRouteModule:()=>c});var m=e(5959),i=e(6223),t=e(9212),p=e(9081),g=e(9862);const l=()=>["/"],f=[{path:"",component:(()=>{class d{constructor(s,n,o,a){this.router=s,this.smtpService=n,this.http=o,this.formBuilder=a,this.Id=0,this.CompanyId=1,this.Profile=1,this.Mail="",this.DisplayName="",this.Password="",this.Host="",this.Port=0,this.Authentication=!0}ngOnInit(){this.initForm(),this.getDataFromApi()}initForm(){this.smtpForm=this.formBuilder.group({DisplayName:["",i.kI.required],Password:["",i.kI.required],Mail:["",[i.kI.required,i.kI.email]],Host:["",i.kI.required],Port:["",[i.kI.required,i.kI.pattern(/^[0-9]+$/)]]})}getDataFromApi(){const s={Id:"",Profile:this.Profile.toString()};this.smtpService.getAllConfigurations(s).subscribe({next:n=>{if(n.length>0){const o=n[0];this.Id=o.id,this.DisplayName=o.displayName,this.Mail=o.mail,this.Host=o.host,this.Port=o.port}else this.DisplayName="",this.Mail="",this.Host="",this.Password="",this.Port=0},error:n=>{console.error("Error al obtener datos del API:",n)}})}onAddSMTP(){if(this.Id>0){const s={Id:this.Id,Profile:this.Profile,Mail:this.Mail.toString(),DisplayName:this.DisplayName.toString(),Host:this.Host.toString(),Port:this.Port,Authenticate:this.Authentication};this.smtpService.updateSmtpConfig(this.Id,s).subscribe({next:n=>{},error:n=>{console.error("Hubo un error en la actualizaci\xf3n de datos")}}),""!==this.Password&&this.smtpService.updateSmtpPassword(this.Id,this.Password.toString()).subscribe({next:n=>{},error:n=>{console.error("Hubo un error en la actualizaci\xf3n de datos Password")}})}else{const s={Profile:this.Profile,CompanyId:this.CompanyId,Mail:this.Mail.toString(),DisplayName:this.DisplayName.toString(),Host:this.Host.toString(),Password:this.Password.toString(),Port:this.Port,Authenticate:this.Authentication};this.smtpService.addSmtpConfig(s).subscribe({next:n=>{},error:n=>{}})}}onBack(){this.router.navigate(["/configuracion/smtp"])}static#t=this.\u0275fac=function(n){return new(n||d)(t.Y36(m.F0),t.Y36(p.h),t.Y36(g.eN),t.Y36(i.qu))};static#o=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-smtp-add"]],decls:59,vars:9,consts:[[1,"content-header"],[1,"p-1"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"breadcrumb","float-sm-left"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"float-right"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"col",2,"display","none"],["for","CompanyId"],["type","text","id","CompanyId","name","CompanyId","placeholder","Ingrese el CompanyId","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","Id"],["type","text","id","Id","name","Id","placeholder","Ingrese el Id","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","mb-3"],[1,"col","col-md-6"],["for","usuario"],["type","text","id","displayName","name","displayName","placeholder","Fundaci\xf3n AMA","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","mail","id","mail","name","mail","placeholder","info@ama.com","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col"],["for","host"],["type","text","id","host","name","host","placeholder","ama.smtp.com","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","puerto"],["name","port","type","number","id","port","placeholder","587","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-center"],[1,"btn","btn-success","mr-3",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),t._uU(8,"Inicio"),t.qZA()(),t.TgZ(9,"li",6),t._uU(10,"Configuraciones"),t.qZA(),t.TgZ(11,"li",8),t._uU(12,"Correo"),t.qZA()()(),t.TgZ(13,"div",4)(14,"div",9),t._uU(15," \xa0\xa0 "),t.qZA()()()()()(),t.TgZ(16,"div",10)(17,"div",2)(18,"div",11)(19,"div",12)(20,"h3",13),t._uU(21,"Configuracion de servidor SMTP"),t.qZA()(),t.TgZ(22,"div",14)(23,"form")(24,"div",14)(25,"div",3)(26,"div",15)(27,"label",16),t._uU(28,"CompanyId:"),t.qZA(),t.TgZ(29,"input",17),t.NdJ("ngModelChange",function(r){return o.CompanyId=r}),t.qZA()(),t.TgZ(30,"div",15)(31,"label",18),t._uU(32,"Id:"),t.qZA(),t.TgZ(33,"input",19),t.NdJ("ngModelChange",function(r){return o.Id=r}),t.qZA()()(),t.TgZ(34,"div",20)(35,"div",21)(36,"label",22),t._uU(37,"Nombre a mostrar:"),t.qZA(),t.TgZ(38,"input",23),t.NdJ("ngModelChange",function(r){return o.DisplayName=r}),t.qZA()(),t.TgZ(39,"div",21)(40,"label",24),t._uU(41,"Correo:"),t.qZA(),t.TgZ(42,"input",25),t.NdJ("ngModelChange",function(r){return o.Mail=r}),t.qZA()()(),t.TgZ(43,"div",20)(44,"div",21)(45,"label",22),t._uU(46,"Contrase\xf1a:"),t.qZA(),t.TgZ(47,"input",26),t.NdJ("ngModelChange",function(r){return o.Password=r}),t.qZA()(),t.TgZ(48,"div",27)(49,"label",28),t._uU(50,"Host:"),t.qZA(),t.TgZ(51,"input",29),t.NdJ("ngModelChange",function(r){return o.Host=r}),t.qZA()(),t.TgZ(52,"div",27)(53,"label",30),t._uU(54,"Puerto:"),t.qZA(),t.TgZ(55,"input",31),t.NdJ("ngModelChange",function(r){return o.Port=r}),t.qZA()()()(),t.TgZ(56,"div",32)(57,"button",33),t.NdJ("click",function(){return o.onAddSMTP()}),t._uU(58,"Actualizar"),t.qZA()()()()()()()),2&n&&(t.xp6(7),t.Q6J("routerLink",t.DdM(8,l)),t.xp6(22),t.Q6J("ngModel",o.CompanyId),t.xp6(4),t.Q6J("ngModel",o.Id),t.xp6(5),t.Q6J("ngModel",o.DisplayName),t.xp6(4),t.Q6J("ngModel",o.Mail),t.xp6(5),t.Q6J("ngModel",o.Password),t.xp6(4),t.Q6J("ngModel",o.Host),t.xp6(4),t.Q6J("ngModel",o.Port))},dependencies:[i._Y,i.Fj,i.wV,i.JJ,i.JL,i.Q7,i.On,i.F,m.rH],styles:[".container-base[_ngcontent-%COMP%]{width:100%;height:100vh;padding:20px;background:linear-gradient(45deg,#ffcccc,#66ffff)}"]})}return d})()}];let c=(()=>{class d{static#t=this.\u0275fac=function(n){return new(n||d)};static#o=this.\u0275mod=t.oAB({type:d});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(f)]})}return d})()}}]);