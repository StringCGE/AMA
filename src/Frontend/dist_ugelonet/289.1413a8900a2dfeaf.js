"use strict";(self.webpackChunkFundacion=self.webpackChunkFundacion||[]).push([[289],{2289:(U,v,a)=>{a.r(v),a.d(v,{beneficiarioModule:()=>re});var r=a(6814),_=a(5959),b=a(5861),e=a(9212),d=a(5118),y=a(9721),c=a(553),g=a(9862),f=a(701),m=a(4975);let u=(()=>{class n{constructor(t,i,o){this.http=t,this.tool=i,this.config=o,this.apiUrl=c.N.serverAma+"api/Beneficiary"}getAllbeneficiarios(t){const i=this.tool.getHttpParams(t);return this.http.get(this.apiUrl,{params:i})}getbeneficiarioById(t){return this.http.get(`${this.apiUrl}/${t}`)}createbeneficiario(t){return this.http.post(this.apiUrl,t)}updatebeneficiario(t){return this.http.put(`${this.apiUrl}/${t.id}`,t)}deletebeneficiario(t){return this.http.delete(`${this.apiUrl}/?id=${t}`)}static#e=this.\u0275fac=function(i){return new(i||n)(e.LFG(g.eN),e.LFG(f.G),e.LFG(m.g))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var l=a(6223),E=a(1117),w=a(7680);function O(n,p){1&n&&e.GkF(0)}function J(n,p){1&n&&(e.TgZ(0,"div",32),e._UZ(1,"p-progressSpinner",33),e.qZA())}function q(n,p){if(1&n&&(e.TgZ(0,"div",6)(1,"label",34),e._uU(2,"N\xb0 Beneficiario"),e.qZA(),e._UZ(3,"input",35),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.uIk("readonly",!(!t.update&&!t.view)||null)}}function S(n,p){1&n&&e._UZ(0,"div",6)}function Q(n,p){if(1&n&&(e.TgZ(0,"option",36),e._uU(1),e.qZA()),2&n){const t=p.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.description," ")}}function k(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",37),e._UZ(1,"hr"),e.TgZ(2,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.InputData())}),e._uU(3),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("disabled",!t.beneficiarioForm.valid),e.xp6(1),e.hij(" ",t.label," ")}}function Y(n,p){if(1&n&&(e.YNc(0,J,2,0,"div",2),e.TgZ(1,"form",3)(2,"div",4),e.YNc(3,q,4,1,"div",5)(4,S,1,0,"div",5),e.TgZ(5,"div",6)(6,"label",7),e._uU(7,"Tipo Indentificaci\xf3n"),e.qZA(),e.TgZ(8,"select",8)(9,"option",9),e._uU(10,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(11,Q,2,2,"option",10),e.qZA(),e._UZ(12,"app-error-display",11),e.qZA(),e.TgZ(13,"div",6)(14,"label",12),e._uU(15,"Identificaci\xf3n"),e.qZA(),e._UZ(16,"input",13)(17,"app-error-display",14),e.qZA(),e.TgZ(18,"div",6)(19,"label",15),e._uU(20,"Primer Nombre"),e.qZA(),e._UZ(21,"input",16)(22,"app-error-display",14),e.qZA(),e.TgZ(23,"div",6)(24,"label",17),e._uU(25,"Segundo Nombre"),e.qZA(),e._UZ(26,"input",18)(27,"app-error-display",14),e.qZA(),e.TgZ(28,"div",6)(29,"label",19),e._uU(30,"Primer Apellido"),e.qZA(),e._UZ(31,"input",20)(32,"app-error-display",14),e.qZA(),e.TgZ(33,"div",6)(34,"label",21),e._uU(35,"Segundo Apellido"),e.qZA(),e._UZ(36,"input",22)(37,"app-error-display",14),e.qZA(),e.TgZ(38,"div",6)(39,"label",23),e._uU(40,"Correo elect\xf3nico"),e.qZA(),e._UZ(41,"input",24)(42,"app-error-display",14),e.qZA(),e.TgZ(43,"div",6)(44,"label",25),e._uU(45,"Tel\xe9fono"),e.qZA(),e._UZ(46,"input",26)(47,"app-error-display",27),e.qZA(),e.TgZ(48,"div",28)(49,"label",29),e._uU(50,"Descripci\xf3n"),e.qZA(),e._UZ(51,"input",30)(52,"app-error-display",27),e.qZA()(),e.YNc(53,k,4,2,"div",31),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngIf",t.loading),e.xp6(1),e.Q6J("formGroup",t.beneficiarioForm),e.xp6(2),e.Q6J("ngIf",t.update||t.view),e.xp6(1),e.Q6J("ngIf",t.update||t.view),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(3),e.Q6J("ngForOf",t.identificationTypes),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("identificationTypeId")),e.xp6(4),e.Q6J("maxLength",10),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("identification"))("minLength",3)("maxLength",10),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("firstName"))("minLength",3)("maxLength",10),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("secondName"))("minLength",3)("maxLength",10),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("lastName"))("minLength",3)("maxLength",10),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("secondLastName"))("minLength",3)("maxLength",10),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("email"))("minLength",3)("maxLength",10),e.xp6(4),e.Q6J("maxLength",10),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("phone"))("minLength",9)("pattern","n\xfameros")("maxLength",10),e.xp6(4),e.uIk("readonly",!!t.view||null),e.xp6(1),e.Q6J("control",t.beneficiarioForm.get("description"))("minLength",9)("pattern","n\xfameros")("maxLength",10),e.xp6(1),e.Q6J("ngIf",!t.view)}}let F=(()=>{class n{constructor(t,i,o,s,h,Z){this.ref=t,this.config=i,this.formService=o,this.beneficiarioService=s,this.configService=h,this.cdr=Z,this.isUpdateListDetails=new e.vpe,this.volunteer=!1,this.update=!1,this.view=!1,this.label="Crear",this.identificationTypes=[],this.loading2=!1,this.loading=!1,this.InitializeData()}buildFormData(){this.formData={id:this.config.data.beneficiario.id||this.config.data.beneficiario.personId,...this.config.data.beneficiario,...this.config.data.beneficiario.person},this.beneficiarioForm=this.formService.createFormGroup(this.formData),this.validator()}ngOnInit(){this.InitializeData()}InitializeData(){this.update=this.config.data.update,this.view=this.config.data.view,this.update?(this.label="Actualizar",this.buildFormData()):this.view?(this.label="View",this.buildFormData()):(this.label="Crear",this.buildForm()),this.getTypeIdentification(),this.validator()}getTypeIdentification(){this.configService.getTypeIdentification().subscribe(t=>{this.identificationTypes=t,this.cdr.detectChanges()},t=>{})}InputData(){var t=this;return(0,b.Z)(function*(){t.update?(yield t.Updatebeneficiario(),setTimeout(()=>{t.loading=!1,t.ref.close(t.beneficiarioForm.value)},1e3)):(yield t.Createbeneficiario(),setTimeout(()=>{t.loading=!1,t.ref.close(t.beneficiarioForm.value)},1e3))})()}structureData(){let t={...this.beneficiarioForm.value};for(const i in t)"person"!==i&&void 0!==t[i]&&(t.person[i]=t[i],delete t[i]);return t={description:this.beneficiarioForm.value.description,person:{...t.person,nameCompleted:`${t.person.lastName} ${t.person.secondLastName} ${t.person.firstName} ${t.person.secondName}`}},t}Createbeneficiario(){var t=this;return(0,b.Z)(function*(){try{let i=t.structureData();t.loading=!0,yield t.beneficiarioService.createbeneficiario(i).toPromise(),t.isUpdateListDetails.emit(!0)}catch{}})()}Updatebeneficiario(){var t=this;return(0,b.Z)(function*(){try{let i=t.structureData();t.loading=!0,i={...i,id:t.beneficiarioForm.value.personId,personId:t.beneficiarioForm.value.personId},yield t.beneficiarioService.updatebeneficiario(i).toPromise(),t.isUpdateListDetails.emit(!0)}catch{}})()}closeDialog(){this.ref.close()}onIdentificationTypeChange(t){this.beneficiarioForm.patchValue({identificationTypeId:t})}buildForm(){this.formData={description:"",person:{firstName:"",secondName:"",lastName:"",secondLastName:"",email:"",identificationTypeId:"",identification:"",phone:""}};let t={...this.formData,...this.formData.person};this.beneficiarioForm=this.formService.createFormGroup(t)}validator(){}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.E7),e.Y36(d.S),e.Y36(y.o),e.Y36(u),e.Y36(m.g),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-beneficiario-create-or-edit"]],outputs:{isUpdateListDetails:"isUpdateListDetails"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],["class","card flex justify-content-center loading",4,"ngIf"],[1,"container-fluid",3,"formGroup"],[1,"d-flex","flex-wrap"],["class","form-group flex-fill col-6",4,"ngIf"],[1,"form-group","flex-fill","col-6"],["for","identificationTypeId"],["id","identificationTypeId","formControlName","identificationTypeId",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"control"],["for","identification"],["type","text","id","identification","formControlName","identification",1,"form-control",3,"maxLength"],[3,"control","minLength","maxLength"],["for","firstName"],["type","text","id","firstName","formControlName","firstName","required","*",1,"form-control"],["for","secondName"],["type","text","id","secondName","formControlName","secondName",1,"form-control"],["for","lastName"],["type","text","id","lastName","formControlName","lastName",1,"form-control"],["for","secondLastName"],["type","text","id","secondLastName","formControlName","secondLastName",1,"form-control"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","phone"],["type","text","id","phone","formControlName","phone",1,"form-control",3,"maxLength"],[3,"control","minLength","pattern","maxLength"],[1,"form-group","flex-fill","col-12"],["for","description"],["type","text","id","description","formControlName","description",1,"form-control"],["class","col-md-12",4,"ngIf"],[1,"card","flex","justify-content-center","loading"],["strokeWidth","5"],["for","idPerson"],["type","text","id","Id","formControlName","personId",1,"form-control"],[3,"value"],[1,"col-md-12"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(i,o){if(1&i&&e.YNc(0,O,1,0,"ng-container",0)(1,Y,54,44,"ng-template",null,1,e.W1O),2&i){const s=e.MAs(2);e.Q6J("ngIf",o.loading2)("ngIfElse",s)}},dependencies:[r.sg,r.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.sg,l.u,E.n,w.G],styles:[".loading[_ngcontent-%COMP%]{position:absolute;bottom:0;border:none;box-shadow:0 0;height:85%;background:none;width:90%;text-align:center;z-index:20000}"]})}return n})();var C=a(5219),T=a(707),I=a(4368),M=a(3714);function P(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.Buscar())}),e.TgZ(2,"span",12),e._UZ(3,"i",13),e._uU(4," Buscar "),e.qZA()(),e.TgZ(5,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.clearFiltersEvent())}),e.TgZ(6,"span",12),e._UZ(7,"i",14),e._uU(8," Limpiar "),e.qZA()(),e.TgZ(9,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.closed())}),e.TgZ(10,"span",12),e._UZ(11,"i",15),e._uU(12," cerrar "),e.qZA()()()}}function R(n,p){if(1&n&&(e.TgZ(0,"p-panel",1)(1,"div")(2,"form",2)(3,"div",3)(4,"div",4)(5,"div",5),e._uU(6,"Identificaci\xf3n"),e.qZA(),e._UZ(7,"input",6),e.qZA(),e.TgZ(8,"div",4)(9,"div",5),e._uU(10,"Nombre"),e.qZA(),e._UZ(11,"input",7),e.qZA(),e.TgZ(12,"div",4)(13,"div",5),e._uU(14,"Email"),e.qZA(),e._UZ(15,"input",8),e.qZA()()()(),e.YNc(16,P,13,0,"ng-template",9),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.formFilterConsult)}}let B=(()=>{class n{constructor(t){this.formService=t,this.queryEmitter=new e.vpe,this.changeFilter=new e.vpe,this.openContentReceiver=!1,this.IsOpen=!0,this.buildForm()}ngOnInit(){this.clearFiltersEvent(),this.buildForm()}ngOnChanges(t){for(let i in t)"openContentReceiver"===i&&(this.IsOpen=!this.IsOpen)}clearFiltersEvent(){this.formFilterConsult.reset(),this.queryEmitter.emit({...this.formFilterConsult.value,offset:0,take:10})}closed(){this.changeFilter.emit(!1)}Buscar(){this.queryEmitter.emit(this.formFilterConsult.value),this.changeFilter.emit(!0)}buildForm(){this.formBeneficiaryFilter={Identification:"",PersonId:null,Name:"",Email:"",offset:10,take:0,sort:""},this.formFilterConsult=this.formService.createFormGroup(this.formBeneficiaryFilter)}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(y.o))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-beneficiario-filer"]],inputs:{openContentReceiver:"openContentReceiver"},outputs:{queryEmitter:"queryEmitter",changeFilter:"changeFilter"},features:[e.TTD],decls:1,vars:1,consts:[["header","Consulta de beneficiarios",4,"ngIf"],["header","Consulta de beneficiarios"],[3,"formGroup"],[1,"row"],[1,"col-md-3"],[1,"negrita-label-form"],["type","text","pInputText","","formControlName","Identification",1,"p-input-size"],["type","text","pInputText","","formControlName","Name",1,"p-input-size"],["type","text","pInputText","","formControlName","Email",1,"p-input-size"],["pTemplate","footer"],[1,"row","d-flex","action","grap-1"],["type","button","pButton","",1,"p-button-outlined","btn-fund-ama","ml-2","p-button-sm","btn-small","w-auto","p-btn-style",3,"click"],[1,"p-button-label"],[1,"pi","pi-search"],[1,"pi","pi-eraser"],[1,"pi","pi-times"]],template:function(i,o){1&i&&e.YNc(0,R,17,1,"p-panel",0),2&i&&e.Q6J("ngIf",o.IsOpen)},dependencies:[r.O5,C.jx,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,T.Hq,M.o,I.s]})}return n})();var j=a(9358),G=a(3904),z=a(4104),$=a(9250);function K(n,p){if(1&n&&(e.ynx(0),e._UZ(1,"app-spinner",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("visible",t.loading)}}function H(n,p){1&n&&(e.TgZ(0,"tr")(1,"th",9)(2,"div",10),e._uU(3,"N\xb0 Identificaci\xf3n"),e.qZA()(),e.TgZ(4,"th",9)(5,"div",10),e._uU(6,"Nombres Completos"),e.qZA()(),e.TgZ(7,"th",9)(8,"div",10),e._uU(9,"Email"),e.qZA()(),e.TgZ(10,"th",9)(11,"div",10),e._uU(12,"Acci\xf3n"),e.qZA()()())}function V(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",10),e._uU(2),e.qZA(),e.TgZ(3,"td",10),e._uU(4),e.qZA(),e.TgZ(5,"td",10),e._uU(6),e.qZA(),e.TgZ(7,"td",10)(8,"div",12)(9,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.ViewData(o))}),e.qZA(),e.TgZ(10,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.EditData(o))}),e.qZA(),e.TgZ(11,"button",15),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,h=e.oxw(2);return e.KtG(h.DeleteData(s,o))}),e.qZA()()()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.person.identification," "),e.xp6(2),e.hij(" ",t.person.nameCompleted," "),e.xp6(2),e.hij(" ",t.person.email," ")}}function W(n,p){1&n&&e.YNc(0,V,12,3,"tr",11),2&n&&e.Q6J("ngIf","A"===p.$implicit.person.status)}function X(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"p-panel",3)(1,"div",4)(2,"div",5)(3,"p-table",6),e.NdJ("onLazyLoad",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.loadDetailsLazy(o))}),e.YNc(4,H,13,0,"ng-template",7)(5,W,1,1,"ng-template",8),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("value",t.listabeneficiarios)("paginator",!0)("paginator",!0)("rows",5)("totalRecords",t.totalRows)("lazy",!0)("showCurrentPageReport",!0)}}let ee=(()=>{class n{constructor(t,i,o,s){this.dialogService=t,this.beneficiarioService=i,this.messageService=o,this.confirmationService=s,this.isUpdateListDetails=!1,this.searchFilter={},this.loading=!1,this.listabeneficiarios=[],this.totalRows=0}ngOnInit(){this.getbeneficiario()}DeleteData(t,i){this.confirmationService.confirm({target:i.target,message:"\xbfEst\xe1s seguro de realizar este proceso?",header:"Confirmaci\xf3n",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Confirmar",rejectLabel:"Cancelar",accept:()=>{t.person.status="E",this.totalRows-=1,this.deletebeneficiario(t.personId)},reject:()=>{this.messageService.add({severity:"warn",summary:"",detail:"Registro no eliminado",life:3e3})}})}EditData(t){this.NavigateUpdate(t)}ViewData(t){this.NavigateView(t)}handleUpdateListDetails(){this.getbeneficiario()}ngOnChanges(t){for(let i in t)"isUpdateListDetails"===i&&this.handleUpdateListDetails(),"searchFilter"===i&&t[i].currentValue&&(this.listabeneficiarios=t[i].currentValue.listabeneficiarios,this.totalRows=t[i].currentValue.totalRows,this.loading=t[i].currentValue.loading)}getbeneficiario(){this.beneficiarioFiler={offset:0,take:10},this.beneficiarioService.getAllbeneficiarios(this.beneficiarioFiler).subscribe(t=>{this.listabeneficiarios=t.result,this.totalRows=t.length,this.loading=!1},t=>{})}NavigateUpdate(t){this.dialogService.open(F,{header:"Editar beneficiario",width:"50%",height:"90%",data:{update:!0,beneficiario:t},contentStyle:{"max-height":"650px",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(i=>{i&&this.getbeneficiario()})}NavigateView(t){this.dialogService.open(F,{header:"Detalles del beneficiario",width:"50%",height:"90%",data:{view:!0,beneficiario:t},contentStyle:{"max-height":"550px",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(i=>{i&&this.getbeneficiario()})}loadDetailsLazy(t){let i=t.sortField,s=t.first,h=t.rows,Z="";if(null!=i){let x=[];x.push({selector:i,desc:1!==t.sortOrder}),Z=JSON.stringify(x)}this.beneficiarioFiler.sort=Z,this.beneficiarioFiler.take=h,this.beneficiarioFiler.offset=s,this.beneficiarioService.getAllbeneficiarios(this.beneficiarioFiler).subscribe(x=>{this.listabeneficiarios=x.result,this.totalRows=x.length,this.loading=!1},x=>{})}deletebeneficiario(t){this.beneficiarioService.deletebeneficiario(t).subscribe({complete:()=>{this.messageService.add({severity:"success",summary:"",detail:"Registro eliminado",life:3e3})},error:()=>{}})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.xA),e.Y36(u),e.Y36(C.ez),e.Y36(C.YP))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-beneficiario-details"]],inputs:{isUpdateListDetails:"isUpdateListDetails",searchFilter:"searchFilter"},features:[e.TTD],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["content",""],[3,"visible"],["header","listado de beneficiarios"],[1,"row"],[1,"col-md-12","col-lg-12"],["scrollDirection","both","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"value","paginator","rows","totalRecords","lazy","showCurrentPageReport","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["scope","col"],[2,"text-align","center"],[4,"ngIf"],[1,"d-flex","justify-content-center","flex-wrap"],["id","p-btn-action","pButton","","type","button","icon","pi pi-eye",1,"p-button-rounded","p-button-success",3,"click"],["id","p-btn-action","pButton","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"click"],["id","p-btn-action","pButton","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"]],template:function(i,o){if(1&i&&(e.YNc(0,K,2,1,"ng-container",0)(1,X,6,7,"ng-template",null,1,e.W1O),e._UZ(3,"p-toast")(4,"p-confirmDialog")),2&i){const s=e.MAs(2);e.Q6J("ngIf",o.loading)("ngIfElse",s)}},dependencies:[r.O5,C.jx,j.O,T.Hq,I.s,G.Q,z.FN,$.iA]})}return n})();function te(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openCloseFilter())}),e.qZA(),e.TgZ(1,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.NavigateToCreate())}),e.qZA()}}const ie=()=>({padding:"15px"});let N=(()=>{class n{constructor(t,i){this.dialogService=t,this.beneficiarioService=i,this.isUpdateListDetails=!1,this.openFilterPanel=!1}NavigateToCreate(){this.dialogService.open(F,{header:"Crear beneficiario",width:"50%",height:"90%",data:{update:!1},contentStyle:{"max-height":"550px",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(t=>{t&&(this.isUpdateListDetails=!0)})}openCloseFilter(){this.openFilterPanel=!0}changedFilter(t){this.openFilterPanel=t}getbeneficiarioRequestFilter(t){this.entityFilterRequest=t;let i=Object.fromEntries(Object.entries(t).filter(([o,s])=>""!==s&&null!==s));0!==Object.keys(i).length&&(i={...i,offset:0,take:10},this.beneficiarioService.getAllbeneficiarios(i).subscribe(o=>{this.cambios={listabeneficiarios:o.result,totalRows:o.length,loading:!1}},o=>{}))}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(d.xA),e.Y36(u))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-beneficiario-index"]],decls:6,vars:6,consts:[["header","beneficiarios",1,"header-general"],["pTemplate","icons"],[1,"contenedor-filtro","row","pb-4"],[3,"openContentReceiver","queryEmitter","changeFilter"],[3,"isUpdateListDetails","searchFilter"],["pButton","","label","Filtros Consulta","type","button","icon","pi pi-filter-fill","iconPos","left",1,"p-button-outlined","btn-fund-ama","p-btn-style",3,"click"],["pButton","","label","Crear","type","button","icon","pi pi-plus","iconPos","left",1,"p-button-outlined","btn-fund-ama","ml-1","p-btn-style",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"p-panel",0),e.YNc(1,te,2,0,"ng-template",1),e.TgZ(2,"div",2)(3,"app-beneficiario-filer",3),e.NdJ("queryEmitter",function(h){return o.getbeneficiarioRequestFilter(h)})("changeFilter",function(h){return o.changedFilter(h)}),e.qZA()(),e.TgZ(4,"div",2),e._UZ(5,"app-beneficiario-details",4),e.qZA()()),2&i&&(e.Akn(e.DdM(5,ie)),e.xp6(3),e.Q6J("openContentReceiver",o.openFilterPanel),e.xp6(2),e.Q6J("isUpdateListDetails",o.isUpdateListDetails)("searchFilter",o.cambios))},dependencies:[C.jx,T.Hq,I.s,B,ee]})}return n})();const ne=[{path:"index",component:N},{path:"create",component:N},{path:"edit/:id",component:N}];let A=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(ne),_.Bz]})}return n})();var L=a(4480),D=a(6263),oe=a(2580);let re=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#i=this.\u0275inj=e.cJS({imports:[r.ez,L.T,D.W,r.ez,oe.m,L.T,D.W,A,A]})}return n})()},1117:(U,v,a)=>{a.d(v,{n:()=>y});var r=a(9212),_=a(6814);function b(c,g){if(1&c&&(r.TgZ(0,"small"),r._uU(1),r.qZA()),2&c){const f=r.oxw().$implicit;r.xp6(1),r.Oqu(f.value)}}function e(c,g){if(1&c&&(r.ynx(0),r.YNc(1,b,2,1,"small",3),r._UZ(2,"br"),r.BQk()),2&c){const f=g.$implicit,m=r.oxw(2);r.xp6(1),r.Q6J("ngIf",m.control.hasError(f.key))}}function d(c,g){if(1&c&&(r.TgZ(0,"div",1),r.YNc(1,e,3,1,"ng-container",2),r.ALo(2,"keyvalue"),r.qZA()),2&c){const f=r.oxw();r.xp6(1),r.Q6J("ngForOf",r.lcZ(2,1,f.getErrors()))}}let y=(()=>{class c{getErrors(){const f=this.control?.errors,m={required:"El campo es requerido",minlength:this.minLength?`El valor debe tener al menos ${this.minLength} caracteres`:"El valor es demasiado corto",maxlength:this.maxLength?`El valor debe tener como m\xe1ximo ${this.maxLength} caracteres`:"El valor es demasiado largo",pattern:this.pattern?`El valor debe contener solo ${this.pattern}`:"El valor del campo no es correcto",email:"El campo debe ser de formato email"},u={};if(f)for(const l of Object.keys(f))m[l]&&(u[l]=m[l]);return u}static#e=this.\u0275fac=function(m){return new(m||c)};static#t=this.\u0275cmp=r.Xpm({type:c,selectors:[["app-error-display"]],inputs:{control:"control",minLength:"minLength",maxLength:"maxLength",isNumeric:"isNumeric",pattern:"pattern"},decls:1,vars:1,consts:[["class","text-danger",4,"ngIf"],[1,"text-danger"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(m,u){1&m&&r.YNc(0,d,3,3,"div",0),2&m&&r.Q6J("ngIf",u.control&&u.control.invalid&&(u.control.dirty||u.control.touched))},dependencies:[_.sg,_.O5,_.Nd]})}return c})()},9358:(U,v,a)=>{a.d(v,{O:()=>e});var r=a(9212),_=a(6814);function b(d,y){1&d&&(r.TgZ(0,"div",1)(1,"div",2),r._UZ(2,"div",3),r.qZA()())}let e=(()=>{class d{constructor(){}static#e=this.\u0275fac=function(g){return new(g||d)};static#t=this.\u0275cmp=r.Xpm({type:d,selectors:[["app-spinner"]],inputs:{visible:"visible"},decls:1,vars:1,consts:[["class","custom-spinner",4,"ngIf"],[1,"custom-spinner"],[1,"spinner-container"],[1,"spinner-circle"]],template:function(g,f){1&g&&r.YNc(0,b,3,0,"div",0),2&g&&r.Q6J("ngIf",f.visible)},dependencies:[_.O5],styles:[".custom-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.spinner-container[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:4px solid #3498db;border-top:4px solid transparent;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}return d})()}}]);