"use strict";(self.webpackChunkFundacion=self.webpackChunkFundacion||[]).push([[361],{361:(x,v,a)=>{a.r(v),a.d(v,{DonacionesModule:()=>Z});var p=a(5959),u=a(9212);const D=[{path:"donacion",loadChildren:()=>Promise.resolve().then(a.bind(a,3411)).then(d=>d.DonationModule)},{path:"crud-donante",loadChildren:()=>Promise.all([a.e(403),a.e(742)]).then(a.bind(a,3742)).then(d=>d.DonorModule)},{path:"crud-voluntario",loadChildren:()=>Promise.all([a.e(403),a.e(275)]).then(a.bind(a,3275)).then(d=>d.VoluntarioModule)}];let t=(()=>{class d{static#t=this.\u0275fac=function(m){return new(m||d)};static#e=this.\u0275mod=u.oAB({type:d});static#o=this.\u0275inj=u.cJS({imports:[p.Bz.forChild(D),p.Bz]})}return d})();var s=a(3411),h=a(5219),b=a(6263);let Z=(()=>{class d{static#t=this.\u0275fac=function(m){return new(m||d)};static#e=this.\u0275mod=u.oAB({type:d});static#o=this.\u0275inj=u.cJS({imports:[s.DonationModule,b.W,h.m8,t,t]})}return d})()},3411:(x,v,a)=>{a.r(v),a.d(v,{DonationModule:()=>X});var p=a(6814),u=a(5959),D=a(5861),t=a(9212),s=a(6223),h=a(5118),b=a(9721),Z=a(553),d=a(9862),U=a(701),C=a(4975);let m=(()=>{class n{constructor(e,o,i){this.http=e,this.tools=o,this.config=i,this.apiUrl=Z.N.serverAma+"api/donation"}GetAlldonations(e){const o=this.tools.getHttpParams(e);return this.http.get(this.apiUrl,{params:o})}GetdonationById(e){return this.http.get(`${this.apiUrl}/${e}`)}createdonation(e){return this.http.post(this.apiUrl,e)}updatedonation(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}deletedonation(e){return this.http.delete(`${this.apiUrl}/${e}`)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(d.eN),t.LFG(U.G),t.LFG(C.g))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var I=a(7768),P=a(1117),y=a(707),_=a(1532),A=a(3714);function J(n,c){if(1&n&&(t.TgZ(0,"div",32)(1,"label",15),t._uU(2,"N\xb0 donaci\xf3n"),t.qZA(),t._UZ(3,"input",33),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.uIk("readonly",!!e.update||null)}}function N(n,c){1&n&&t._UZ(0,"p-calendar",34),2&n&&t.Q6J("showIcon",!0)}function S(n,c){if(1&n&&(t.TgZ(0,"div",35),t._UZ(1,"input",36)(2,"button",37),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("value",e.valorDate("assignedAt"))("readonly",e.view||e.update)("disabled",e.view||e.update)}}function w(n,c){if(1&n&&(t.TgZ(0,"option",38),t._uU(1),t.qZA()),2&n){const e=c.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function B(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"button",39),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.InputData())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",!e.donationForm.valid),t.xp6(1),t.hij(" ",e.label," ")}}let T=(()=>{class n{constructor(e,o,i,r,l,g){this.ref=e,this.config=o,this.formService=i,this.donationService=r,this.configService=l,this.cdr=g,this.isUpdateListDetails=new t.vpe,this.itemsPersona=[],this.itemsBrigade=[],this.update=!1,this.label="Crear",this.idDonationType=[],this.loading=!1,this.view=!1}ngOnInit(){this.InitializeData()}InitializeData(){this.update=this.config.data.update,this.view=this.config.data.view,this.update?(this.label="Actualizar",this.buildFormData()):(this.label="Crear",this.buildForm()),this.GetetTypeDonation(),this.InitializerDataPerson(),this.InitializerDataBrigade()}buildFormData(){this.formData={name:"",amount:0,donationTypeId:0,price:0,total:0,personId:0,brigadeId:0,...this.config.data.donation,assignedAt:new Date(this.config.data.donation.assignedAt)},this.donationForm=this.formService.createFormGroup(this.formData),this.validator()}buildForm(){this.formData={name:"",amount:0,assignedAt:new Date,donationTypeId:0,price:0,total:0,personId:0,brigadeId:0},this.donationForm=this.formService.createFormGroup(this.formData),this.validator()}validator(){this.donationForm.get("name")?.setValidators([s.kI.required]),this.donationForm.get("donationTypeId")?.setValidators([s.kI.required,s.kI.min(0)]),this.donationForm.get("personId")?.setValidators([s.kI.required,s.kI.min(0)]),this.donationForm.get("brigadeId")?.setValidators([s.kI.required,s.kI.min(0)])}InitializerDataPerson(){this.lsPersona={Params:[],dataFilter:{donor:!0}},this.personaConfig={Id:"IdPersona",Name:"Persona",Tooltip:"Search Persona",Dataset:"Persona",NameComponent:"PersonDialogComponet"},this.itemsPersona=[],(this.update||this.view)&&this.itemsPersona.push({code:this.donationForm.get("personId")?.value,description:String(this.donationForm.get("identificationPerson")?.value)+"-"+String(this.donationForm.get("nameCompletedPerson")?.value)})}InitializerDataBrigade(){this.lsBrigade={Params:[]},this.brigadeConfig={Id:"IdBrigade",Name:"Brigade",width:"40%",Tooltip:"Search Brigade",Dataset:"BrigadeDto",NameComponent:"BrigadeDialogComponent"},this.itemsBrigade=[],(this.update||this.view)&&this.itemsBrigade.push({code:this.donationForm.get("brigadeId")?.value,description:String(this.donationForm.get("brigadeId")?.value)+"-"+String(this.donationForm.get("nameBrigade")?.value)})}GetetTypeDonation(){this.configService.getTypeDonation().subscribe(e=>{this.idDonationType=e,this.cdr.detectChanges()},e=>{})}onItemChanged(e){e&&"IdPersona"===e.conf.Id&&this.donationForm.get("personId")?.setValue(e.data.code)}onItemChangedBrigade(e){e&&"IdBrigade"===e.conf.Id&&this.donationForm.get("brigadeId")?.setValue(e.data.code)}InputData(){this.update?(this.Updatedonation(),setTimeout(()=>{this.isUpdateListDetails.emit(!0),this.ref.close(this.donationForm.value)},1e3)):(this.Createdonation(),setTimeout(()=>{this.isUpdateListDetails.emit(!0),this.ref.close(this.donationForm.value)},1e3))}Createdonation(){var e=this;return(0,D.Z)(function*(){try{yield e.donationService.createdonation(e.donationForm.value).toPromise()}catch{}})()}Updatedonation(){var e=this;return(0,D.Z)(function*(){try{yield e.donationService.updatedonation(e.donationForm.value).toPromise()}catch{}})()}closeDialog(){this.ref.close()}valorDate(e){const o=this.donationForm.get(e)?.value;return o instanceof Date?o.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}):o||""}onIdentificationTypeChange(e){this.donationForm.patchValue({identificationTypeId:e})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(h.E7),t.Y36(h.S),t.Y36(b.o),t.Y36(m),t.Y36(C.g),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-donation-create-or-edit"]],outputs:{isUpdateListDetails:"isUpdateListDetails"},decls:54,vars:29,consts:[[1,"modal-body"],[1,"container-fluid",3,"formGroup"],[1,"row"],["class","col-sm-4 col-md-2 ",4,"ngIf"],[1,"col"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control",3,"readonly"],[3,"control","minLength","maxLength"],[1,"col-auto"],[1,"form-group"],["for","assignedAt"],[1,"calendar-container"],["placeholder","Seleccione la fecha Inicial","id","assignedAt","formControlName","assignedAt","class","modal-calendar p-input-size d-flex",3,"showIcon",4,"ngIf"],["class","calendar-container d-flex","style","height: 40px !important",4,"ngIf"],[1,"mb-3","col"],["for","iddonation"],["id","idPersona","title","Selecione un donante",3,"dataToDialog","disabledProp","confProp","itemsProp","itemChanged"],["id","idBrigade","title","Selecione una brigada",3,"dataToDialog","confProp","itemsProp","disabledProp","itemChanged"],["for","donationTypeId"],["id","donationTypeId","formControlName","donationTypeId",1,"form-control"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"control"],["for","amount"],["type","number","id","amount","formControlName","amount",1,"form-control",3,"readonly"],[3,"control","pattern"],["for","price"],["type","number","id","price","formControlName","price",1,"form-control",3,"readonly"],["for","total"],["type","number","id","total","formControlName","total",1,"form-control",3,"readonly","value"],[1,"mb-3","row"],["type","submit","class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"col-sm-4","col-md-2"],["type","text","id","id","formControlName","id",1,"form-control"],["placeholder","Seleccione la fecha Inicial","id","assignedAt","formControlName","assignedAt",1,"modal-calendar","p-input-size","d-flex",3,"showIcon"],[1,"calendar-container","d-flex",2,"height","40px !important"],["type","text","pInputText","","id","assignedAt",1,"p-input-date","h-100","form-control",3,"value","readonly","disabled"],["pButton","","type","button","icon","pi pi-calendar",1,"p-input-date","h-100"],[3,"value"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(o,i){if(1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2),t.YNc(3,J,4,1,"div",3),t.TgZ(4,"div",4)(5,"label",5),t._uU(6,"Nombre Donaci\xf3n"),t.qZA(),t._UZ(7,"input",6)(8,"app-error-display",7),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"label",10),t._uU(12,"Fecha Inicio"),t.qZA(),t.TgZ(13,"div",11)(14,"div",11),t.YNc(15,N,1,1,"p-calendar",12),t.qZA(),t.YNc(16,S,3,3,"div",13),t.qZA()()()(),t.TgZ(17,"div",2)(18,"div",14)(19,"label",15),t._uU(20,"Donante"),t.qZA(),t.TgZ(21,"app-dropdown",16),t.NdJ("itemChanged",function(l){return i.onItemChanged(l)}),t.qZA()(),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Brigada"),t.qZA(),t.TgZ(25,"app-dropdown",17),t.NdJ("itemChanged",function(l){return i.onItemChangedBrigade(l)}),t.qZA()()(),t.TgZ(26,"div",2)(27,"div",14)(28,"label",18),t._uU(29,"Tipo donacion"),t.qZA(),t.TgZ(30,"select",19)(31,"option",20),t._uU(32,"Seleccione una opci\xf3n"),t.qZA(),t.YNc(33,w,2,2,"option",21),t.qZA(),t._UZ(34,"app-error-display",22),t.qZA(),t.TgZ(35,"div",14)(36,"label",23),t._uU(37,"Cantidad"),t.qZA(),t._UZ(38,"input",24)(39,"app-error-display",25),t.qZA()(),t.TgZ(40,"div",2)(41,"div",14)(42,"label",26),t._uU(43,"Precio"),t.qZA(),t._UZ(44,"input",27)(45,"app-error-display",25),t.qZA(),t.TgZ(46,"div",14)(47,"label",28),t._uU(48,"Total"),t.qZA(),t._UZ(49,"input",29)(50,"app-error-display",25),t.qZA()(),t.TgZ(51,"div",30)(52,"div",4),t.YNc(53,B,2,2,"button",31),t.qZA()()()()),2&o){let r;t.xp6(1),t.Q6J("formGroup",i.donationForm),t.xp6(2),t.Q6J("ngIf",i.update),t.xp6(4),t.Q6J("readonly",i.view),t.xp6(1),t.Q6J("control",i.donationForm.get("name"))("minLength",3)("maxLength",10),t.xp6(7),t.Q6J("ngIf",!i.view&&!i.update),t.xp6(1),t.Q6J("ngIf",i.view||i.update),t.xp6(5),t.Q6J("dataToDialog",i.lsPersona)("disabledProp",i.view)("confProp",i.personaConfig)("itemsProp",i.itemsPersona),t.xp6(4),t.Q6J("dataToDialog",i.lsBrigade)("confProp",i.brigadeConfig)("itemsProp",i.itemsBrigade)("disabledProp",i.view||i.update),t.xp6(8),t.Q6J("ngForOf",i.idDonationType),t.xp6(1),t.Q6J("control",i.donationForm.get("donationTypeId")),t.xp6(4),t.Q6J("readonly",i.view),t.xp6(1),t.Q6J("control",i.donationForm.get("amount"))("pattern","numero o decimal"),t.xp6(5),t.Q6J("readonly",i.view),t.xp6(1),t.Q6J("control",i.donationForm.get("price"))("pattern","numero o decimal"),t.xp6(4),t.Q6J("readonly",!0)("value",(null!==(r=null==(r=i.donationForm.get("price"))?null:r.value)&&void 0!==r?r:0)*(null!==(r=null==(r=i.donationForm.get("amount"))?null:r.value)&&void 0!==r?r:0)),t.xp6(1),t.Q6J("control",i.donationForm.get("total"))("pattern","numero o decimal"),t.xp6(3),t.Q6J("ngIf",!i.view)}},dependencies:[p.sg,p.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,I.J,P.n,y.Hq,_.f,A.o],styles:[".p-input-date[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-top-right-radius:0}"]})}return n})();var F=a(5219),O=a(9358),L=a(3904),q=a(4104),E=a(9250);function G(n,c){1&n&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"N\xb0 donacion"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Nombre donaci\xf3n"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Tipo donaci\xf3n"),t.qZA(),t.TgZ(7,"th",8),t._uU(8,"Acci\xf3n "),t.qZA()())}function Q(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",9),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.ViewData(r))}),t.qZA(),t.TgZ(9,"button",10),t.NdJ("click",function(){const r=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.EditData(r))}),t.qZA(),t.TgZ(10,"button",11),t.NdJ("click",function(i){const l=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.DeleteData(l,i))}),t.qZA()()()}if(2&n){const e=c.$implicit;t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.donationType)}}function z(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"p-table",5),t.NdJ("onLazyLoad",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.loadDataTableLazy(i))}),t.YNc(3,G,9,0,"ng-template",6)(4,Q,11,3,"ng-template",7),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("value",e.listadonations)("paginator",!0)("rows",10)("totalRecords",e.totalRows)("lazy",!0)("showCurrentPageReport",!0)}}function Y(n,c){if(1&n&&(t.ynx(0),t._UZ(1,"app-spinner",12),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("visible",e.loading)}}let R=(()=>{class n{DeleteData(e,o){this.confirmationService.confirm({target:o.target,message:"\xbfEst\xe1s seguro de realizar este proceso?",header:"Confirmaci\xf3n",icon:"pi pi-info-circle",acceptButtonStyleClass:"p-button-danger p-button-text",rejectButtonStyleClass:"p-button-text p-button-text",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Confirmar",rejectLabel:"Cancelar",accept:()=>{(e=this.listadonations.filter(i=>i.id===e.id)[0]).status="E",this.totalRows-=1,this.DeleteDonation(e.id)},reject:()=>{this.messageService.add({severity:"warn",summary:"",detail:"Registro no eliminado",life:3e3})}}),this.GetDonation()}EditData(e){this.NavigateUpdate(e),this.GetDonation()}ViewData(e){this.NavigateView(e)}NavigateView(e){this.dialogService.open(T,{header:"Ver Donaci\xf3n",width:"75%",height:"100%",data:{update:!0,donation:e,view:!0},contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4})}constructor(e,o,i,r){this.dialogService=e,this.confirmationService=o,this.messageService=i,this.donationService=r,this.isUpdateListDetails=!1,this.searchFilter={},this.loading=!1,this.listadonations=[],this.totalRows=0}ngOnInit(){this.GetDonation()}ngOnChanges(e){for(let o in e)"isUpdateListDetails"===o&&this.isUpdateListDetails&&this.ngOnInit(),"searchFilter"===o&&e[o].currentValue&&(console.log(e[o].currentValue),this.listadonations=e[o].currentValue.listabeneficiarios,this.totalRows=e[o].currentValue.totalRows,this.loading=e[o].currentValue.loading)}GetDonation(){this.donationFiler={offset:0,take:10,sort:""},this.donationService.GetAlldonations(this.donationFiler).subscribe(e=>{this.listadonations=e.result,this.totalRows=e.length,this.loading=!1},e=>{})}NavigateUpdate(e){this.dialogService.open(T,{header:"Actualizar Donaci\xf3n",width:"75%",height:"100%",data:{update:!0,donation:e},contentStyle:{"max-height":"80%",overflow:"auto"},baseZIndex:1e4}).onClose.subscribe(o=>{o&&this.GetDonation()})}loadDataTableLazy(e){let o=e.sortField,r=e.first,l=e.rows,g="";if(null!=o){let f=[];f.push({selector:o,desc:1!==e.sortOrder}),g=JSON.stringify(f)}this.donationFiler.sort=g,this.donationFiler.take=l,this.donationFiler.offset=r,this.donationService.GetAlldonations(this.donationFiler).subscribe(f=>{this.listadonations=f.result,this.totalRows=f.length,this.loading=!1},f=>{})}DeleteDonation(e){this.donationService.deletedonation(e).subscribe({complete:()=>{this.messageService.add({severity:"success",summary:"",detail:"Registro eliminado",life:3e3})},error:()=>{}})}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(h.xA),t.Y36(F.YP),t.Y36(F.ez),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-donation-details"]],inputs:{isUpdateListDetails:"isUpdateListDetails",searchFilter:"searchFilter"},features:[t.TTD],decls:5,vars:2,consts:[["class","mt-5"],["content",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-md-12","col-lg-12"],["scrollDirection","vertical","currentPageReportTemplate","Mostrando {last} de {totalRecords}","selectionMode","single",1,"table","table-sm","table-striped",3,"value","paginator","rows","totalRecords","lazy","showCurrentPageReport","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],[1,"text-center"],["id","p-btn-action","pButton","","type","button","icon","pi pi-eye",1,"p-button-rounded","p-button-success",3,"click"],["id","p-btn-action","pButton","","type","button","icon","pi pi-pencil",1,"p-button-rounded","p-button-warning",3,"click"],["id","p-btn-action","pButton","","type","button","icon","pi pi-trash",1,"p-button-rounded","p-button-danger",3,"click"],[3,"visible"]],template:function(o,i){if(1&o&&(t.YNc(0,z,5,6,"ng-template",0,1,t.W1O)(2,Y,2,1,"ng-container",2),t._UZ(3,"p-toast")(4,"p-confirmDialog")),2&o){const r=t.MAs(1);t.xp6(2),t.Q6J("ngIf",i.loading)("ngIfElse",r)}},dependencies:[p.O5,O.O,F.jx,y.Hq,L.Q,q.FN,E.iA]})}return n})();function M(n,c){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"form",1)(2,"div",2)(3,"div",3)(4,"p",4),t._uU(5,"N\xb0 Donaci\xf3n"),t.qZA(),t._UZ(6,"input",5),t.qZA(),t.TgZ(7,"div",3)(8,"p",4),t._uU(9,"Nombre Donaci\xf3n"),t.qZA(),t._UZ(10,"input",6),t.qZA(),t.TgZ(11,"div",3)(12,"p",4),t._uU(13,"Dontante"),t.qZA(),t.TgZ(14,"app-dropdown",7),t.NdJ("itemChanged",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.onItemChanged(i))}),t.qZA()(),t.TgZ(15,"div",3),t._UZ(16,"br"),t.TgZ(17,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.Buscar())}),t._UZ(18,"i",9),t._uU(19," Buscar "),t.qZA()(),t.TgZ(20,"div",3),t._UZ(21,"br"),t.TgZ(22,"button",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.clearFiltersEvent())}),t._UZ(23,"i",11),t._uU(24," Limpiar "),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.formFilterConsult),t.xp6(13),t.Q6J("dataToDialog",e.lsPersona)("confProp",e.personaConfig)("itemsProp",e.itemsPersona)}}let V=(()=>{class n{onItemChanged(e){e&&"idPersona"===e.conf.Id&&this.formFilterConsult.get("personId")?.setValue(e.data.code)}constructor(e,o,i){this.formService=e,this.configService=o,this.cdr=i,this.idDonationType=[],this.queryEmitter=new t.vpe,this.openContentReceiver=!1,this.IsOpen=!1}GetetTypeDonation(){this.configService.getTypeDonation().subscribe(e=>{this.idDonationType=e,this.cdr.detectChanges()},e=>{})}ngOnInit(){this.clearFiltersEvent(),this.buildForm(),this.InitializerData(),this.GetetTypeDonation()}ngOnChanges(e){for(let o in e)"openContentReceiver"===o&&(this.IsOpen=!this.IsOpen)}Buscar(){this.queryEmitter.emit(this.formFilterConsult.value)}clearFiltersEvent(){this.formFilterConsult&&(this.formFilterConsult.reset(),this.queryEmitter.emit({...this.formFilterConsult.value,offset:0,take:10})),this.itemsPersona=[]}closed(){this.clearFiltersEvent(),this.IsOpen=!this.IsOpen}InitializerData(){this.lsPersona={Params:[],dataFilter:{donor:!0}},this.personaConfig={Id:"idPersona",Name:"Persona",Tooltip:"Search Persona",Dataset:"Persona",NameComponent:"PersonDialogComponet"},this.itemsPersona=[]}buildForm(){this.fomrDonationFilter={id:void 0,name:void 0,donationTypeId:void 0,personId:void 0,brigadeId:void 0,offset:0,take:10,sort:""},this.formFilterConsult=this.formService.createFormGroup(this.fomrDonationFilter)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(b.o),t.Y36(C.g),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-donation-filter"]],inputs:{openContentReceiver:"openContentReceiver"},outputs:{queryEmitter:"queryEmitter"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],[1,"row"],[1,"col-auto"],[1,"form-label"],["pInputText","","formControlName","id",1,"p-input-size"],["pInputText","","formControlName","name",1,"p-input-size"],["id","personId","title","Seleccione un donante",3,"dataToDialog","confProp","itemsProp","itemChanged"],["type","button","pButton","",1,"mt-2","btn","btn-primary",3,"click"],[1,"pi","pi-search"],["type","button","pButton","",1,"mt-2","btn","btn-secondary",3,"click"],[1,"pi","pi-eraser"]],template:function(o,i){1&o&&t.YNc(0,M,25,4,"div",0),2&o&&t.Q6J("ngIf",i.IsOpen)},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,I.J,y.Hq,A.o]})}return n})();const j=()=>["/"],H=()=>["/brigate/index"],k=[{path:"index",component:(()=>{class n{NavigateToCreate(){this.dialogService.open(T,{header:"Crear Donaci\xf3n",width:"auto",height:"auto",data:{update:!1},contentStyle:{"min-height":"500px","min-width":"500px"},baseZIndex:1e4}).onClose.subscribe(e=>{e&&(this.isUpdateListDetails=!0)})}constructor(e,o){this.dialogService=e,this.donationService=o,this.isUpdateListDetails=!1,this.openFilterPanel=!0}openCloseFilter(){this.openFilterPanel=!this.openFilterPanel}getPersonRequestFilter(e){this.entityFilterRequest=e;let o=Object.fromEntries(Object.entries(e).filter(([i,r])=>""!==r&&null!==r));0!==Object.keys(o).length&&(o={...o,offset:0,take:10},this.donationService.GetAlldonations(o).subscribe(i=>{this.cambios={listabeneficiarios:i.result,totalRows:i.length,loading:!1}},i=>{}))}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(h.xA),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-donation-index"]],decls:32,vars:7,consts:[[1,"content-header"],[1,"p-1"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6"],[1,"breadcrumb","float-sm-left"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"float-right"],["pButton","","type","button","icon","pi pi-filter-fill","iconPos","left",1,"btn","btn-secondary",3,"click"],["pButton","","type","button","icon","fas fa-plus","iconPos","left",1,"btn","btn-success",3,"click"],[1,"content"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[3,"openContentReceiver","queryEmitter"],[3,"isUpdateListDetails","searchFilter"]],template:function(o,i){1&o&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ol",5)(6,"li",6)(7,"a",7),t._uU(8,"Inicio"),t.qZA()(),t.TgZ(9,"li",6)(10,"a",7),t._uU(11,"Brigadas"),t.qZA()(),t.TgZ(12,"li",8),t._uU(13,"Listado de Donaciones"),t.qZA()()(),t.TgZ(14,"div",4)(15,"div",9),t._uU(16," \xa0\xa0 "),t.TgZ(17,"button",10),t.NdJ("click",function(){return i.openCloseFilter()}),t._uU(18,"\xa0Filtros Consulta"),t.qZA(),t._uU(19," \xa0\xa0 "),t.TgZ(20,"button",11),t.NdJ("click",function(){return i.NavigateToCreate()}),t._uU(21," \xa0Crear"),t.qZA()()()()()()(),t.TgZ(22,"div",12)(23,"div",2)(24,"div",13)(25,"div",14)(26,"h3",15),t._uU(27,"Donaciones"),t.qZA()(),t.TgZ(28,"div",16)(29,"app-donation-filter",17),t.NdJ("queryEmitter",function(l){return i.getPersonRequestFilter(l)}),t.qZA(),t._UZ(30,"br")(31,"app-donation-details",18),t.qZA()()()()),2&o&&(t.xp6(7),t.Q6J("routerLink",t.DdM(5,j)),t.xp6(3),t.Q6J("routerLink",t.DdM(6,H)),t.xp6(19),t.Q6J("openContentReceiver",i.openFilterPanel),t.xp6(2),t.Q6J("isUpdateListDetails",i.isUpdateListDetails)("searchFilter",i.cambios))},dependencies:[u.rH,y.Hq,R,V]})}return n})()},{path:"create",component:T}];let $=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(k),u.Bz]})}return n})();var K=a(2580);let X=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#e=this.\u0275mod=t.oAB({type:n});static#o=this.\u0275inj=t.cJS({providers:[m],imports:[p.ez,$,K.m]})}return n})()}}]);